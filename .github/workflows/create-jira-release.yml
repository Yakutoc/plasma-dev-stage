name: Create release LF

on:
    workflow_dispatch:

jobs:
    notify:
        runs-on: ubuntu-latest
        steps:
            -   name: Checkout repository
                uses: actions/checkout@v4

            - name: Computed envs
              run: |
                  echo "FROM_TAG=$(git merge-base --fork-point origin/master)" >> $GITHUB_ENV

            - name: Build Changelog
              id: github_release
              uses: mikepenz/release-changelog-builder-action@v4.1.0
              with:
                  fromTag: ${{ env.FROM_TAG }}
                  configuration: "./.github/changelog-builder-config.json"

            - name: Extract task ID
              id: tasks
              run: |
                  echo ${{ steps.github_release.outputs.pull_requests }}
